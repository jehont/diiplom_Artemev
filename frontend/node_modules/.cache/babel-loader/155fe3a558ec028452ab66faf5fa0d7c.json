{"ast":null,"code":"import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-a74ee4b4\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"admin-container\"\n};\nconst _hoisted_2 = {\n  class: \"d-flex justify-content-between\"\n};\n\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"Приветствую администратора\", -1\n/* HOISTED */\n));\n\nconst _hoisted_4 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_5 = {\n  class: \"table colored-header datatable project-list\"\n};\n\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Идентификатор счета\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Номер пользователя \"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Телефон\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Адрес\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Время заказа\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Оплата\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Сумма\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Статус\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Действие\")])], -1\n/* HOISTED */\n));\n\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nconst _hoisted_9 = [\"onClick\"];\nconst _hoisted_10 = [\"onClick\"];\nconst _hoisted_11 = [\"onClick\"];\nconst _hoisted_12 = {\n  class: \"table-responsive\"\n};\nconst _hoisted_13 = {\n  class: \"table colored-header datatable project-list\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"tr\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"Индификатор заказа\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Имя пользователя\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Телефон пользователя\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Количество человек\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Количество столов\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Номер пользователя\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Дата\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Записка\")])], -1\n/* HOISTED */\n));\n\nexport function render(_ctx, _cache) {\n  const _component_OrderDetails = _resolveComponent(\"OrderDetails\");\n\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.handleLogout())\n  }, \"Выйти\")]), _createElementVNode(\"div\", _hoisted_4, [_createCommentVNode(\" PROJECT TABLE \"), _createElementVNode(\"table\", _hoisted_5, [_hoisted_6, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filterBills.slice().reverse(), b => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: b.bill_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(b.bill_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(b.user_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(b.bill_phone), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(b.bill_address), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(b.bill_when), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(b.bill_paid), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, \"₽\" + _toDisplayString(b.bill_total), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(_ctx.avaiableStatus[b.bill_status]), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, [b.bill_status < 5 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 0,\n      class: \"action-btn\",\n      onClick: $event => _ctx.nextStatusBtn(b.bill_id)\n    }, _toDisplayString(_ctx.avaiableStatus[b.bill_status + 1]), 9\n    /* TEXT, PROPS */\n    , _hoisted_7)) : _createCommentVNode(\"v-if\", true), b.bill_status == 1 ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 1,\n      class: \"cancel-btn\",\n      onClick: $event => _ctx.cancelBtn(b.bill_id)\n    }, \" Отмена \", 8\n    /* PROPS */\n    , _hoisted_8)) : b.bill_status == 5 && b.bill_paid == 'false' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 2,\n      class: \"paid-btn\",\n      onClick: $event => _ctx.paidBtn(b.bill_id)\n    }, \" оплачено \", 8\n    /* PROPS */\n    , _hoisted_9)) : b.bill_status == 5 && b.bill_paid == 'true' ? (_openBlock(), _createElementBlock(\"button\", {\n      key: 3,\n      class: \"action-btn\",\n      onClick: $event => _ctx.nextStatusBtn(b.bill_id)\n    }, _toDisplayString(_ctx.avaiableStatus[b.bill_status + 1]), 9\n    /* TEXT, PROPS */\n    , _hoisted_10)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"button\", {\n      class: \"details-btn\",\n      onClick: $event => _ctx.sendBillId(b.bill_id)\n    }, \"Детали заказа\", 8\n    /* PROPS */\n    , _hoisted_11)])]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]), _createElementVNode(\"div\", null, [_ctx.showOrderDetails ? (_openBlock(), _createBlock(_component_OrderDetails, {\n    key: 0,\n    bill: _ctx.sendId\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"button\", {\n      class: \"btn\",\n      onClick: _cache[1] || (_cache[1] = (...args) => _ctx.closeView && _ctx.closeView(...args))\n    }, \"X\")]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"bill\"])) : _createCommentVNode(\"v-if\", true)]), _createElementVNode(\"div\", _hoisted_12, [_createCommentVNode(\" PROJECT TABLE \"), _createElementVNode(\"table\", _hoisted_13, [_hoisted_14, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.filterTables.slice().reverse(), t => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: t.book_id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(t.book_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_name), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_phone), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_people), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_tables), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.user_id), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_when), 1\n    /* TEXT */\n    ), _createElementVNode(\"td\", null, _toDisplayString(t.book_note), 1\n    /* TEXT */\n    )]);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","_createElementBlock","_hoisted_3","onClick","_ctx","_createCommentVNode","_hoisted_6","_Fragment","_renderList","slice","reverse","b","key","bill_id","_toDisplayString","user_id","bill_phone","bill_address","bill_when","bill_paid","bill_total","bill_status","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createBlock","_component_OrderDetails","bill","_hoisted_14","t","book_id","book_name","book_phone","book_people","book_tables","book_when","book_note"],"sourceRoot":"","sources":["C:\\Users\\User\\Desktop\\restaurant-ordering-system-master\\frontend\\src\\admin\\Admin.vue"],"sourcesContent":["<template>\n    <div class=\"admin-container\">\n        <div class=\"d-flex justify-content-between\">\n            <h1>Приветствую администратора</h1>\n            <button class=\"btn\" @click=\"handleLogout()\">Выйти</button>\n        </div>\n\n        <div class=\"table-responsive\">\n            <!-- PROJECT TABLE -->\n            <table class=\"table colored-header datatable project-list\">\n                <thead>\n                    <tr>\n                        <th>Идентификатор счета</th>\n                        <th>Номер пользователя </th>\n                        <th>Телефон</th>\n                        <th>Адрес</th>\n                        <th>Время заказа</th>\n                        <th>Оплата</th>\n                        <th>Сумма</th>\n                        <th>Статус</th>\n                        <th>Действие</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"b in filterBills.slice().reverse()\" :key=\"b.bill_id\">\n                        <td>{{ b.bill_id }}</td>\n                        <td>{{ b.user_id }}</td>\n                        <td>{{ b.bill_phone }}</td>\n                        <td>{{ b.bill_address }}</td>\n                        <td>{{ b.bill_when }}</td>\n                        <td>{{ b.bill_paid }}</td>\n                        <td>₽{{ b.bill_total }}</td>\n                        <td>{{ avaiableStatus[b.bill_status] }}</td>\n                        <td>\n                            <button v-if=\"b.bill_status < 5\" class=\"action-btn\" @click=\"nextStatusBtn(b.bill_id)\">\n                                {{ avaiableStatus[b.bill_status + 1] }}\n                            </button>\n\n                            <button v-if=\"b.bill_status == 1\" class=\"cancel-btn\" @click=\"cancelBtn(b.bill_id)\">\n                                Отмена\n                            </button>\n\n                            <button v-else-if=\"b.bill_status == 5 && b.bill_paid == 'false'\" class=\"paid-btn\"\n                                @click=\"paidBtn(b.bill_id)\">\n                                оплачено\n                            </button>\n\n\n                            <button v-else-if=\"b.bill_status == 5 && b.bill_paid == 'true'\" class=\"action-btn\"\n                                @click=\"nextStatusBtn(b.bill_id)\">\n                                {{ avaiableStatus[b.bill_status + 1] }}\n                            </button>\n\n                            <button class=\"details-btn\" @click=\"sendBillId(b.bill_id)\">Детали заказа</button>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n        <div>\n            <OrderDetails v-if=\"showOrderDetails\" :bill=\"sendId\">\n                <button class=\"btn\" @click=\"closeView\">X</button>\n            </OrderDetails>\n        </div>\n        <div class=\"table-responsive\">\n            <!-- PROJECT TABLE -->\n            <table class=\"table colored-header datatable project-list\">\n                <thead>\n                    <tr>\n                        <th>Индификатор заказа</th>\n                        <th>Имя пользователя</th>\n                        <th>Телефон пользователя</th>\n                        <th>Количество человек</th>\n                        <th>Количество столов</th>\n                        <th>Номер пользователя</th>\n                        <th>Дата</th>\n                        <th>Записка</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr v-for=\"t in filterTables.slice().reverse()\" :key=\"t.book_id\">\n                        <td>{{ t.book_id }}</td>\n                        <td>{{ t.book_name }}</td>\n                        <td>{{ t.book_phone }}</td>\n                        <td>{{ t.book_people }}</td>\n                        <td>{{ t.book_tables }}</td>\n                        <td>{{ t.user_id }}</td>\n                        <td>{{ t.book_when }}</td>\n                        <td>{{ t.book_note }}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</template>\n\n<script>\nimport OrderDetails from \"@/components/OrderDetails.vue\";\nimport axios from \"axios\";\nimport { mapState, mapMutations } from \"vuex\";\nexport default {\n    name: \"Dashboard\",\n\n    data() {\n        return {\n            avaiableStatus: [\n                \"Отменен\",\n                \"Подтвержден\",\n                \"Готовится\",\n                \"Проверяется\",\n                \"Едет к вам\",\n                \"Доставлено\",\n                \"Завершен\",\n            ],\n            allBills: [],\n            allTableBookings: [],\n            showOrderDetails: false,\n            sendId: undefined,\n            interval: \"\",\n        };\n    },\n\n    created() {\n        this.getAllBills();\n        this.getAllTableBookings();\n        if (!this.admin) {\n            this.$router.push(\"/\");\n        }\n    },\n\n    mounted: function () {\n        this.autoUpdate();\n    },\n\n    beforeUnmount() {\n        clearInterval(this.interval);\n    },\n\n    computed: {\n        ...mapState([\"allFoods\", \"admin\"]),\n\n        filterBills: function () {\n            return this.allBills.filter(\n                (b) => b.bill_status < 6 && b.bill_status > 0\n            );\n        },\n\n        filterTables: function () {\n            return this.allTableBookings.filter(\n                (t) => return true\n      );\n        },\n\n    },\n\n    methods: {\n        ...mapMutations([\"setAdmin\"]),\n\n        async getAllBills() {\n            this.allBills = (await axios.get(\"/billstatus\")).data;\n        },\n\n        async getAllTableBookings() {\n            this.allTableBookings = (await axios.get(\"/booktable\").data;\n        },\n\n\n        sendBillId: function (id) {\n            this.sendId = id;\n            this.showOrderDetails = !this.showOrderDetails;\n        },\n\n        sendBilluserId: function (user_id) {\n            this.sendId = user_id;\n            this.showOrderDetails = !this.showOrderDetails;\n        },\n\n        closeView: function () {\n            this.showOrderDetails = !this.showOrderDetails;\n        },\n\n        handleLogout: function () {\n            this.setAdmin(\"\");\n        },\n\n        async nextStatusBtn(id) {\n            await axios.put(\"/billstatus/\" + id);\n            this.getAllBills();\n        },\n\n        async paidBtn(id) {\n            await axios.put(\"/billstatus/paid/\" + id);\n            this.getAllBills();\n        },\n\n        async cancelBtn(id) {\n            await axios.put(\"/billstatus/cancel/\" + id);\n            this.getAllBills();\n        },\n\n        autoUpdate: function () {\n            this.interval = setInterval(\n                function () {\n                    this.getAllBills();\n                    this.getAllTableBookings();\n                }.bind(this),\n                1000\n            );\n        },\n    },\n    components: { OrderDetails }\n};\n</script>\n\n<style scoped>\n.admin-container {\n    background-color: #fff;\n    height: 100vh;\n    padding: 2rem 9%;\n    font-size: 16px;\n}\n\n.project-list>tbody>tr>td {\n    padding: 12px 8px;\n}\n\n.project-list>tbody>tr>td .avatar {\n    width: 22px;\n    border: 1px solid #ccc;\n}\n\n.table-responsive {\n    margin-top: 8vh;\n}\n\n.action-btn,\n.cancel-btn,\n.paid-btn {\n    width: 100px;\n    height: 25px;\n    color: white;\n}\n\n.action-btn {\n    background-color: #0da9ef;\n    margin-right: 10px;\n}\n\n.cancel-btn,\n.paid-btn {\n    background-color: red;\n}\n\n.action-btn:hover {\n    background-color: #27ae60;\n}\n\n.details-btn {\n    background-color: #0db60d;\n    margin-left: 10px;\n    padding: 2px;\n}\n</style>\n\n"]},"metadata":{},"sourceType":"module"}